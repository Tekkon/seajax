"undefined"==typeof Seadragon2&&(window.Seadragon2={});var SD=Seadragon2,SD_VERSION=SD.VERSION="2.0.pre";SD.toString=function(){return"Seadragon Ajax v"+SD_VERSION+"\nCopyright (c) Microsoft Corp."};var SDDebug=SD.Debug={alert:0,enabled:3},SDDebug_log=SDDebug.log=function(e,n){SDDebug.enabled<3||(arguments.length>1&&(e=SDString_format.apply(this,arguments)),"undefined"!=typeof console&&console.log?console.log(e):SDDebug.alert>=3&&alert(e))},SDDebug_warn=SDDebug.warn=function(e){SDDebug.enabled<2||(arguments.length>1&&(e=SDString_format.apply(this,arguments)),"undefined"!=typeof console&&console.warn?console.warn(e):SDDebug.alert>=2&&alert(e))},SDDebug_error=SDDebug.error=function(e,n){if(!(SDDebug.enabled<1))throw"undefined"!=typeof console&&console.error?console.error(e):SDDebug.alert>=1&&alert(e),n||new Error(e)},SDFunction=SD.Function={},SDFunction_EMPTY=SDFunction.EMPTY=function(){},SDFunction_bind=SDFunction.bind=function(e,n,t){var o,r=new Array(arguments.length-2),i=r.length;for(o=0;o<i;o++)r[o]=arguments[o+2];return"string"==typeof n&&(n=e[n]),function(){var t,o=arguments.length;for(t=0;t<o;t++)r.push(arguments[t]);n.apply(e,r)}},SDFunction_callback=SDFunction.callback=function(e,n){var t,o=arguments.length,r=new Array(o+1);for(r[0]=null,t=0;t<o;t++)r[t+1]=arguments[t];return SDFunction_bind.apply(SDFunction,r)},SDFunction_delay=SDFunction.delay=function(e,n){return function(){setTimeout(SDFunction_bind(this,e),n)}},SDXml=SD.Xml={},SDXml_fetch=SDXml.fetch=function(){function e(e,n){return function(){4===this.readyState&&(0===this.status||this.status>=200&&this.status<300?e.call(this):n.call(this))}}var n,t,o,r,i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml3.XMLHTTP"],u="undefined"!=typeof XDomainRequest;if("undefined"!=typeof XMLHttpRequest)o=XMLHttpRequest;else if("undefined"!=typeof ActiveXObject){for(t=0;t<i.length;t++){n=i[t];try{new ActiveXObject(n),o=ActiveXObject,r=n;break}catch(a){SDDebug_warn("Seadragon2.Xml: {0} ActiveX failed.",n)}}t>=i.length&&SDDebug_error("Seadragon2.Xml: no ActiveX worked.")}else SDDebug_error("Seadragon2.Xml: no fetching ability.");return o?function(n,t,i,a,c){var l=new o(r),D=a?"POST":"GET",S=!1;l.onreadystatechange=e(t,i),n=n.replace(/#.*/,"");try{l.open(D,n,!0)}catch(f){if(!u)throw f;l=new XDomainRequest,l.onload=t,l.onerror=i,l.timeout=3e4,l.ontimeout=function(){},l.onprogress=function(){},l.open(D,n),S=!0}return a&&l.setRequestHeader&&l.setRequestHeader("Content-Type",c||"text/plain"),S?setTimeout(function(){l.send(a||null)},0):l.send(a||null),l}:SDFunction_EMPTY}(),SDXml_parse=SDXml.parse=function(){return"undefined"!=typeof DOMParser?function(e){var n=new DOMParser,t=n.parseFromString(e,"text/xml"),o=t&&t.documentElement;return o&&"parsererror"!==o.nodeName?t:null}:"undefined"!=typeof ActiveXObject?function(e){var n=new ActiveXObject("Microsoft.XMLDOM");return n.async=!1,n.loadXML(e)&&n}:(SDDebug_error("Seadragon2.Xml: no parsing ability."),SDFunction_EMPTY)}();